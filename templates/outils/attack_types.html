{% extends "base.html" %}

{% block title %}Types d'Attaques - CyberConfiance{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1>Types d'Attaques Informatiques</h1>
        <p>Apprenez √† reconna√Ætre et √† pr√©venir les diff√©rentes formes d'attaques cybern√©tiques</p>
    </div>
</section>

<section class="content-section">
    <div class="container">
        {% if attacks %}
        <div class="filters-section" style="margin-bottom: 2rem;">
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                <button class="filter-btn active" data-category="all">Toutes</button>
                <button class="filter-btn" data-category="AI">IA</button>
                <button class="filter-btn" data-category="Web">Web</button>
                <button class="filter-btn" data-category="Network">R√©seau</button>
                <button class="filter-btn" data-category="Data">Donn√©es</button>
                <button class="filter-btn" data-category="Social">Social</button>
            </div>
        </div>
        
        <div class="attacks-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
            {% for attack in attacks %}
            <div class="attack-card glass-card" data-category="{{ attack.category or 'Web' }}" data-severity="{{ attack.severity or 'Moyen' }}">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h3 style="margin: 0; flex: 1;">{{ attack.name_fr }}</h3>
                    {% if attack.severity %}
                    <span class="severity-badge severity-{{ attack.severity|lower }}" style="margin-left: 0.5rem;">{{ attack.severity }}</span>
                    {% endif %}
                </div>
                
                {% if attack.name_en %}
                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem; font-style: italic;">
                    {{ attack.name_en }}
                </div>
                {% endif %}
                
                <div class="attack-description" style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1rem;">
                    {{ attack.description_fr|safe }}
                </div>
                
                {% if attack.prevention %}
                <div class="attack-prevention" style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(59, 130, 246, 0.2);">
                    <h4 style="font-size: 0.95rem; margin-bottom: 0.5rem; color: var(--accent-color);">üí° Comment se prot√©ger :</h4>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.5;">
                        {{ attack.prevention|safe }}
                    </div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        
        <div class="no-results" style="display: none; text-align: center; padding: 3rem; color: var(--text-secondary);">
            <p>Aucun type d'attaque ne correspond √† ce filtre.</p>
        </div>
        {% else %}
        <p style="text-align: center; color: var(--text-secondary);">Aucun type d'attaque disponible pour le moment.</p>
        {% endif %}
    </div>
</section>

<style>
.filter-btn {
    padding: 0.6rem 1.5rem;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 20px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn:hover {
    background: rgba(59, 130, 246, 0.2);
    border-color: rgba(59, 130, 246, 0.5);
}

.filter-btn.active {
    background: rgba(59, 130, 246, 0.3);
    border-color: var(--accent-color);
    color: var(--accent-color);
}

.severity-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    white-space: nowrap;
}

.severity-critique, .severity-critical, .severity-√©lev√©, .severity-high {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.severity-moyen, .severity-medium {
    background: rgba(251, 191, 36, 0.2);
    color: #fbbf24;
    border: 1px solid rgba(251, 191, 36, 0.3);
}

.severity-faible, .severity-low {
    background: rgba(34, 197, 94, 0.2);
    color: #22c55e;
    border: 1px solid rgba(34, 197, 94, 0.3);
}

.attack-card {
    padding: 1.5rem;
    transition: all 0.3s ease;
}

.attack-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.15);
}

.attack-card h3 {
    font-size: 1.15rem;
    color: var(--text-primary);
}

.attacks-grid {
    animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterBtns = document.querySelectorAll('.filter-btn');
    const attackCards = document.querySelectorAll('.attack-card');
    const noResults = document.querySelector('.no-results');
    
    filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            filterBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const category = this.dataset.category;
            let visibleCount = 0;
            
            attackCards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            if (visibleCount === 0) {
                noResults.style.display = 'block';
            } else {
                noResults.style.display = 'none';
            }
        });
    });
});
</script>
{% endblock %}
